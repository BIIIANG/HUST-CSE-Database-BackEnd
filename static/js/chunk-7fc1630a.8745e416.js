(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fc1630a"],{"342e":function(e,t,o){},"404b":function(e,t,o){"use strict";o("342e")},cd65:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"oper-div"},[o("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",plain:"",icon:"el-icon-circle-plus-outline",disabled:e.loading},on:{click:e.showAddRecordDialog}},[e._v("增加 ")])],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:"",stripe:"",height:"calc(100vh - 200px)"}},[o("el-table-column",{attrs:{prop:"sno",label:"学号","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"cno",label:"课程号","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"grade",label:"成绩","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(o){return e.showUpdateRecordDialog(t.row)}}}),o("el-popconfirm",{attrs:{title:"确认删除？"},on:{confirm:function(o){return e.deleteRecord(t.row.ID)}}},[o("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small"},slot:"reference"})],1)]}}])})],1),o("div",{staticClass:"page-div"},[o("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows,disabled:e.loading},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{title:"添加记录",visible:e.scDialogVisible},on:{"update:visible":function(t){e.scDialogVisible=t}}},[o("el-form",{ref:"scForm",attrs:{model:e.scForm,rules:e.rules,"label-width":"20%"}},[o("el-form-item",{attrs:{label:"学号",prop:"sno"}},[o("el-input",{staticStyle:{width:"80%"},model:{value:e.scForm.sno,callback:function(t){e.$set(e.scForm,"sno",t)},expression:"scForm.sno"}})],1),o("el-form-item",{attrs:{label:"课程号",prop:"cno"}},[o("el-input",{staticStyle:{width:"80%"},model:{value:e.scForm.cno,callback:function(t){e.$set(e.scForm,"cno",t)},expression:"scForm.cno"}})],1),o("el-form-item",{attrs:{label:"成绩",prop:"grade"}},[o("el-input",{staticStyle:{width:"80%"},model:{value:e.scForm.grade,callback:function(t){e.$set(e.scForm,"grade",e._n(t))},expression:"scForm.grade"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.scDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.insertItem}},[e._v("确 定")])],1)],1)],1)},r=[],s=(o("e9c4"),o("b775")),i={name:"RecordTable",data:function(){return{loading:!1,tableData:[],multipleSelection:[],searchInput:"",currentPage:1,pageSize:10,totalRows:0,scDialogVisible:!1,scForm:{},rules:{sno:[{required:!0,message:"请输入学号",trigger:"blur"}],cno:[{required:!0,message:"请输入课程号",trigger:"blur"}],grade:[{required:!0,message:"请输入成绩",trigger:"blur"},{type:"number",min:0,max:100,message:"成绩需为0~100之间的整数",trigger:"blur"}]}}},created:function(){this.getTable()},methods:{getTable:function(){var e=this;this.loading=!0,s["a"].get("sc/query",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.searchInput}}).then((function(t){e.tableData=[],e.totalRows=0,0===t.code?(e.tableData=t.data,e.totalRows=t.rows,0===t.rows?e.$message({message:"无数据",type:"warning"}):(e.deptInfoData=t.data,console.log(e.deptInfoData),e.$message({message:"获取信息成功",type:"success",showClose:"true"}))):e.$message.error({message:"获取信息失败，错误信息："+t.error,showClose:"true"}),e.loading=!1})).catch((function(t){e.$message.error({message:"获取信息失败，错误信息："+t,showClose:"true"})}))},showAddRecordDialog:function(){var e=this;this.scForm={},this.$nextTick((function(){e.$refs.scForm.clearValidate()})),this.scDialogVisible=!0},insertItem:function(){var e=this;this.$refs.scForm.validate((function(t){t?e.scForm.ID?s["a"].put("sc/update",e.scForm).then((function(t){0===t.code?(e.$notify({title:"成功",message:"修改记录成功",duration:3e3,type:"success"}),e.scDialogVisible=!1,e.getTable()):e.$notify.error({title:"失败",message:"修改记录失败，错误信息："+t.error,duration:3e3})})):s["a"].post("sc/insert",e.scForm).then((function(t){0===t.code?(e.$notify({title:"成功",message:"添加记录成功",duration:3e3,type:"success"}),e.scDialogVisible=!1,e.getTable()):e.$notify.error({title:"失败",message:"添加记录失败，错误信息："+t.error,duration:3e3})})):e.$notify.error({title:"失败",message:"数据不满足要求，请检查数据",duration:3e3})}))},showUpdateRecordDialog:function(e){var t=this;this.scForm=JSON.parse(JSON.stringify(e)),this.$nextTick((function(){t.$refs.scForm.clearValidate()})),this.scDialogVisible=!0},deleteRecord:function(e){var t=this;console.log(e),s["a"].delete("sc/delete",{params:{id:e}}).then((function(e){0===e.code?(t.$notify({title:"成功",message:"删除记录成功",duration:3e3,type:"success"}),t.scDialogVisible=!1,t.getTable()):t.$notify.error({title:"失败",message:"删除记录失败，错误信息："+e.error,duration:3e3})}))},handleSizeChange:function(e){this.pageSize=e,this.getTable()},handleCurrentChange:function(e){this.currentPage=e,this.getTable()}}},l=i,n=(o("404b"),o("2877")),c=Object(n["a"])(l,a,r,!1,null,"4b915d60",null);t["default"]=c.exports},e9c4:function(e,t,o){var a=o("23e7"),r=o("da84"),s=o("d066"),i=o("2ba4"),l=o("e330"),n=o("d039"),c=r.Array,u=s("JSON","stringify"),d=l(/./.exec),g=l("".charAt),p=l("".charCodeAt),m=l("".replace),f=l(1..toString),h=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,v=function(e,t,o){var a=g(o,t-1),r=g(o,t+1);return d(b,e)&&!d(w,r)||d(w,e)&&!d(b,a)?"\\u"+f(p(e,0),16):e},y=n((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&a({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,o){for(var a=0,r=arguments.length,s=c(r);a<r;a++)s[a]=arguments[a];var l=i(u,null,s);return"string"==typeof l?m(l,h,v):l}})}}]);
//# sourceMappingURL=chunk-7fc1630a.8745e416.js.map