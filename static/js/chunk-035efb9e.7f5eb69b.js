(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-035efb9e"],{"0147":function(e,t,s){"use strict";s("a73c")},8688:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"oper-div"},[s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",plain:"",icon:"el-icon-circle-plus-outline",disabled:e.loading},on:{click:e.showAddStudentDialog}},[e._v("增加 ")])],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:"",stripe:"",height:"calc(100vh - 200px)"}},[s("el-table-column",{attrs:{prop:"sno",label:"学号","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"sname",label:"姓名","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"ssex",label:"性别","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"sage",label:"年龄","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"sdept",label:"专业","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"sscholarship",label:"奖学金","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(s){return e.showUpdateStudentDialog(t.row)}}}),s("el-popconfirm",{attrs:{title:"确认删除？"},on:{confirm:function(s){return e.deleteStudent(t.row.ID)}}},[s("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small"},slot:"reference"})],1)]}}])})],1),s("div",{staticClass:"page-div"},[s("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows,disabled:e.loading},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),s("el-dialog",{attrs:{title:"添加学生",visible:e.studentDialogVisible},on:{"update:visible":function(t){e.studentDialogVisible=t}}},[s("el-form",{ref:"studentForm",attrs:{model:e.studentForm,rules:e.rules,"label-width":"20%"}},[s("el-form-item",{attrs:{label:"学号",prop:"sno"}},[s("el-input",{staticStyle:{width:"80%"},model:{value:e.studentForm.sno,callback:function(t){e.$set(e.studentForm,"sno",t)},expression:"studentForm.sno"}})],1),s("el-form-item",{attrs:{label:"姓名",prop:"sname"}},[s("el-input",{staticStyle:{width:"80%"},model:{value:e.studentForm.sname,callback:function(t){e.$set(e.studentForm,"sname",t)},expression:"studentForm.sname"}})],1),s("el-form-item",{attrs:{label:"性别",prop:"ssex"}},[s("el-radio-group",{staticStyle:{width:"80%"},model:{value:e.studentForm.ssex,callback:function(t){e.$set(e.studentForm,"ssex",t)},expression:"studentForm.ssex"}},[s("el-radio",{attrs:{label:"男"}}),s("el-radio",{attrs:{label:"女"}})],1)],1),s("el-form-item",{attrs:{label:"年龄",prop:"sage"}},[s("el-input",{staticStyle:{width:"80%"},model:{value:e.studentForm.sage,callback:function(t){e.$set(e.studentForm,"sage",e._n(t))},expression:"studentForm.sage"}})],1),s("el-form-item",{attrs:{label:"专业",prop:"sdept"}},[s("el-input",{staticStyle:{width:"80%"},model:{value:e.studentForm.sdept,callback:function(t){e.$set(e.studentForm,"sdept",t)},expression:"studentForm.sdept"}})],1),s("el-form-item",{attrs:{label:"奖学金",prop:"sscholarship"}},[s("el-radio-group",{staticStyle:{width:"80%"},model:{value:e.studentForm.sscholarship,callback:function(t){e.$set(e.studentForm,"sscholarship",t)},expression:"studentForm.sscholarship"}},[s("el-radio",{attrs:{label:"是"}}),s("el-radio",{attrs:{label:"否"}})],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.studentDialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.insertItem}},[e._v("确 定")])],1)],1)],1)},o=[],r=(s("e9c4"),s("b775")),l={name:"StudentTable",data:function(){return{loading:!1,tableData:[],multipleSelection:[],searchInput:"",currentPage:1,pageSize:10,totalRows:0,studentDialogVisible:!1,studentForm:{},rules:{sno:[{required:!0,message:"请输入学号",trigger:"blur"}],sname:[{required:!0,message:"请输入姓名",trigger:"blur"}],ssex:[{required:!0,message:"请选择性别",trigger:"change"}],sage:[{required:!0,message:"请输入年龄",trigger:"blur"},{type:"number",message:"年龄必须为数字值",trigger:"blur"}],sdept:[{required:!0,message:"请输入专业",trigger:"blur"}],sscholarship:[{required:!0,message:"请选择奖学金",trigger:"change"}]}}},created:function(){this.getTable()},methods:{getTable:function(){var e=this;this.loading=!0,r["a"].get("student/query",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.searchInput}}).then((function(t){e.tableData=[],e.totalRows=0,0===t.code?(e.tableData=t.data,e.totalRows=t.rows,0===t.rows?e.$message({message:"无数据",type:"warning"}):(e.deptInfoData=t.data,console.log(e.deptInfoData),e.$message({message:"获取信息成功",type:"success",showClose:"true"}))):e.$message.error({message:"获取信息失败，错误信息："+t.error,showClose:"true"}),e.loading=!1})).catch((function(t){e.$message.error({message:"获取信息失败，错误信息："+t,showClose:"true"})}))},showAddStudentDialog:function(){var e=this;this.studentForm={},this.$nextTick((function(){e.$refs.studentForm.clearValidate()})),this.studentDialogVisible=!0},insertItem:function(){var e=this;this.$refs.studentForm.validate((function(t){t?e.studentForm.ID?r["a"].put("student/update",e.studentForm).then((function(t){0===t.code?(e.$notify({title:"成功",message:"修改学生成功",duration:3e3,type:"success"}),e.studentDialogVisible=!1,e.getTable()):e.$notify.error({title:"失败",message:"修改学生失败，错误信息："+t.error,duration:3e3})})):r["a"].post("student/insert",e.studentForm).then((function(t){0===t.code?(e.$notify({title:"成功",message:"添加学生成功",duration:3e3,type:"success"}),e.studentDialogVisible=!1,e.getTable()):e.$notify.error({title:"失败",message:"添加学生失败，错误信息："+t.error,duration:3e3})})):e.$notify.error({title:"失败",message:"数据不满足要求，请检查数据",duration:3e3})}))},showUpdateStudentDialog:function(e){var t=this;this.studentForm=JSON.parse(JSON.stringify(e)),this.$nextTick((function(){t.$refs.studentForm.clearValidate()})),this.studentDialogVisible=!0},deleteStudent:function(e){var t=this;console.log(e),r["a"].delete("student/delete",{params:{id:e}}).then((function(e){0===e.code?(t.$notify({title:"成功",message:"删除学生成功",duration:3e3,type:"success"}),t.studentDialogVisible=!1,t.getTable()):t.$notify.error({title:"失败",message:"删除学生失败，错误信息："+e.error,duration:3e3})}))},handleSizeChange:function(e){this.pageSize=e,this.getTable()},handleCurrentChange:function(e){this.currentPage=e,this.getTable()}}},i=l,n=(s("0147"),s("2877")),u=Object(n["a"])(i,a,o,!1,null,"bff8d192",null);t["default"]=u.exports},a73c:function(e,t,s){},e9c4:function(e,t,s){var a=s("23e7"),o=s("da84"),r=s("d066"),l=s("2ba4"),i=s("e330"),n=s("d039"),u=o.Array,d=r("JSON","stringify"),c=i(/./.exec),p=i("".charAt),g=i("".charCodeAt),m=i("".replace),f=i(1..toString),h=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,v=function(e,t,s){var a=p(s,t-1),o=p(s,t+1);return c(b,e)&&!c(w,o)||c(w,e)&&!c(b,a)?"\\u"+f(g(e,0),16):e},y=n((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&a({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,s){for(var a=0,o=arguments.length,r=u(o);a<o;a++)r[a]=arguments[a];var i=l(d,null,r);return"string"==typeof i?m(i,h,v):i}})}}]);
//# sourceMappingURL=chunk-035efb9e.7f5eb69b.js.map